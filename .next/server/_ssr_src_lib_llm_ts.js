"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_llm_ts";
exports.ids = ["_ssr_src_lib_llm_ts"];
exports.modules = {

/***/ "(ssr)/./src/lib/llm.ts":
/*!************************!*\
  !*** ./src/lib/llm.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CLARIFYING_QUESTIONS_PROMPT: () => (/* binding */ CLARIFYING_QUESTIONS_PROMPT),\n/* harmony export */   DEFAULT_LLM_CONFIG: () => (/* binding */ DEFAULT_LLM_CONFIG),\n/* harmony export */   LLMService: () => (/* binding */ LLMService),\n/* harmony export */   SYSTEM_PROMPT: () => (/* binding */ SYSTEM_PROMPT),\n/* harmony export */   llmService: () => (/* binding */ llmService)\n/* harmony export */ });\n/* harmony import */ var _types_schemas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types/schemas */ \"(ssr)/./src/types/schemas.ts\");\n\n// Default LM Studio configuration\nconst DEFAULT_LLM_CONFIG = {\n    id: 'local-model',\n    provider: 'local',\n    name: 'LM Studio Local Model',\n    base_url: 'http://localhost:1234',\n    is_openai_compatible: true,\n    model: 'local-model'\n};\n// System prompts\nconst SYSTEM_PROMPT = `You are a pragmatic product/engineering copilot trained on modern agile practices. You write **concise, unambiguous** specs. You prefer bullet‑point clarity over prose. You surface **ambiguities** and **risks** explicitly. You generate **structured JSON** that matches the provided schema, and an accompanying human‑readable summary.\n\nGuidelines:\n- Never fabricate org‑specific facts; ask questions instead\n- Use domain vocabulary only if present in the input/context or project context\n- Keep lists short and high‑signal; default max 7 items per list\n- Use stable IDs with today's date prefix for easy diffing\n- Keep acceptance criteria in Given/When/Then form for QA handoff\n- Always include QA and Docs placeholders in task breakdown\n- Group tasks with area and prereqs for natural ordering`;\nconst CLARIFYING_QUESTIONS_PROMPT = `Given the input and resolved context, identify 3-5 questions that would most reduce ambiguity in the specification. Focus on:\n- Missing business logic or edge cases\n- Unclear functional requirements\n- Ambiguous stakeholder expectations\n- Technical implementation gaps\n- Integration dependencies\n\nIMPORTANT: Respond with ONLY a valid JSON object that matches the ClarifyingQuestions schema. Do not include any other text, markdown, or explanations.`;\n// LLM Service class\nclass LLMService {\n    constructor(config = DEFAULT_LLM_CONFIG){\n        this.config = config;\n    }\n    // Generate specification from input\n    async generateSpec(input, resolvedContext, mode = 'draft', options = {}) {\n        const prompt = this.buildSpecPrompt(input, resolvedContext, mode);\n        try {\n            const response = await this.callLLM(prompt, _types_schemas__WEBPACK_IMPORTED_MODULE_0__.SpecOutputSchema, options);\n            return response;\n        } catch (error) {\n            console.error('Error generating spec:', error);\n            throw new Error(`Failed to generate specification: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // Generate clarifying questions\n    async generateClarifyingQuestions(input, resolvedContext, options = {}) {\n        const prompt = this.buildClarifyingQuestionsPrompt(input, resolvedContext);\n        try {\n            const response = await this.callLLM(prompt, _types_schemas__WEBPACK_IMPORTED_MODULE_0__.ClarifyingQuestionsSchema, options);\n            return response.json;\n        } catch (error) {\n            console.error('Error generating clarifying questions:', error);\n            throw new Error(`Failed to generate clarifying questions: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // Refine specification with answers\n    async refineSpec(originalSpec, answers, options = {}) {\n        const prompt = this.buildRefinePrompt(originalSpec, answers);\n        try {\n            const response = await this.callLLM(prompt, _types_schemas__WEBPACK_IMPORTED_MODULE_0__.SpecOutputSchema.partial(), options);\n            return response.json;\n        } catch (error) {\n            console.error('Error refining spec:', error);\n            throw new Error(`Failed to refine specification: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    // Calculate ambiguity score heuristic\n    calculateAmbiguityScore(input) {\n        let score = 0;\n        // Check input length (shorter descriptions tend to be more ambiguous)\n        if (input.description.length < 100) score += 0.3;\n        else if (input.description.length < 200) score += 0.1;\n        // Check for numbers/dates (more specific)\n        const hasNumbers = /\\d/.test(input.description);\n        if (!hasNumbers) score += 0.2;\n        // Check for vague words\n        const vagueWords = [\n            'some',\n            'maybe',\n            'possibly',\n            'could',\n            'might',\n            'perhaps',\n            'probably'\n        ];\n        const vagueCount = vagueWords.filter((word)=>input.description.toLowerCase().includes(word)).length;\n        score += vagueCount * 0.1;\n        // Check pronoun density (more pronouns = less specific)\n        const pronouns = [\n            'it',\n            'this',\n            'that',\n            'they',\n            'them'\n        ];\n        const pronounCount = pronouns.filter((pronoun)=>input.description.toLowerCase().split(' ').includes(pronoun)).length;\n        score += pronounCount * 0.05;\n        // Check for missing context\n        if (!input.context.stakeholders?.length) score += 0.1;\n        if (!input.context.constraints?.length) score += 0.1;\n        return Math.min(score, 1.0) // Cap at 1.0\n        ;\n    }\n    // Build spec generation prompt\n    buildSpecPrompt(input, resolvedContext, mode) {\n        const today = new Date().toISOString().split('T')[0].replace(/-/g, '');\n        return `${SYSTEM_PROMPT}\n\nRESOLVED PROJECT CONTEXT:\n${JSON.stringify(resolvedContext, null, 2)}\n\nUSER INPUT:\n${JSON.stringify(input, null, 2)}\n\nINSTRUCTIONS:\nGenerate a ${mode} specification using stable IDs prefixed with \"${today}\" (e.g., \"FR-${today}-001\", \"T-${today}-001\").\n\nCRITICAL SCHEMA REQUIREMENTS:\n- \"input\": Must include the exact input object provided above\n- \"resolved_context\": Must include the exact resolved context provided above  \n- \"story\": Object with \"as_a\", \"i_want\", \"so_that\", \"acceptance_criteria\" (array of strings)\n- \"tasks\": Array of objects, each with:\n  - \"id\": string (e.g., \"T-${today}-001\")\n  - \"title\": string (descriptive task name)\n  - \"area\": MUST be one of: \"FE\", \"BE\", \"Infra\", \"QA\", \"Docs\" (no other values allowed)\n  - \"details\": string (implementation details)\n  - \"prereqs\": array of strings (default: [])\n  - \"artifacts\": array of strings (default: [])\n- \"estimation\": Object with:\n  - \"confidence\": number between 0 and 1\n  - \"complexity\": one of \"XS\", \"S\", \"M\", \"L\", \"XL\"\n  - \"drivers\": array of strings\n  - \"notes\": string\n- \"functional_requirements\": Array with \"id\" and \"statement\" fields\n- \"needs_clarification\": Array (default: [])\n- \"assumptions\": Array of strings (default: [])\n- \"dependencies\": Array of strings (default: [])\n- \"edge_cases\": Array of strings (default: [])\n- \"risks\": Array with \"risk\" and \"mitigation\" fields (default: [])\n\nEXAMPLE STRUCTURE:\n{\n  \"input\": /* the exact input object */,\n  \"resolved_context\": /* the exact resolved context */,\n  \"story\": {\n    \"as_a\": \"user\",\n    \"i_want\": \"to do something\",\n    \"so_that\": \"I achieve a goal\",\n    \"acceptance_criteria\": [\"Given...\", \"When...\", \"Then...\"]\n  },\n  \"tasks\": [\n    {\n      \"id\": \"T-${today}-001\",\n      \"title\": \"Setup frontend components\",\n      \"area\": \"FE\",\n      \"details\": \"Create React components for...\",\n      \"prereqs\": [],\n      \"artifacts\": [\"Component files\"]\n    }\n  ],\n  \"estimation\": {\n    \"confidence\": 0.8,\n    \"complexity\": \"M\",\n    \"drivers\": [\"New technology\"],\n    \"notes\": \"Standard implementation\"\n  },\n  \"functional_requirements\": [\n    {\n      \"id\": \"FR-${today}-001\",\n      \"statement\": \"System must...\"\n    }\n  ],\n  \"needs_clarification\": [],\n  \"assumptions\": [],\n  \"dependencies\": [],\n  \"edge_cases\": [],\n  \"risks\": []\n}\n\nRESPOND WITH ONLY VALID JSON. NO OTHER TEXT.`;\n    }\n    // Build clarifying questions prompt\n    buildClarifyingQuestionsPrompt(input, resolvedContext) {\n        return `${CLARIFYING_QUESTIONS_PROMPT}\n\nRESOLVED PROJECT CONTEXT: ${JSON.stringify(resolvedContext, null, 2)}\n\nUSER INPUT: ${JSON.stringify(input, null, 2)}\n\nRespond with a JSON object containing a \"questions\" array and \"estimated_confidence\" number.`;\n    }\n    // Build refinement prompt\n    buildRefinePrompt(originalSpec, answers) {\n        return `SYSTEM: ${SYSTEM_PROMPT}\n\nORIGINAL SPECIFICATION: ${JSON.stringify(originalSpec, null, 2)}\n\nCLARIFYING ANSWERS:\n${answers.map((a)=>`Q: ${a.question}\\nA: ${a.answer}`).join('\\n\\n')}\n\nINSTRUCTIONS:\nUpdate only the affected sections based on the clarifying answers. Return a partial specification object with only the changed fields.\n\nRESPONSE FORMAT:\n- Provide a JSON object with only the updated fields.\n`;\n    }\n    // Core LLM API call\n    async callLLM(prompt, schema, options = {}) {\n        const { temperature = 0.1, max_tokens = 4000, timeout = 60000 } = options;\n        if (!this.config.is_openai_compatible) {\n            throw new Error('Only OpenAI-compatible APIs are currently supported');\n        }\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>controller.abort(), timeout);\n        // Prepare the request payload\n        const requestBody = {\n            model: this.config.model,\n            messages: [\n                {\n                    role: 'system',\n                    content: 'You are a helpful assistant that generates structured JSON responses.'\n                },\n                {\n                    role: 'user',\n                    content: prompt\n                }\n            ],\n            temperature,\n            max_tokens\n        };\n        console.log('LLM Request:', {\n            url: `${this.config.base_url}/v1/chat/completions`,\n            body: requestBody\n        });\n        try {\n            const response = await fetch(`${this.config.base_url}/v1/chat/completions`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...this.config.api_key && {\n                        'Authorization': `Bearer ${this.config.api_key}`\n                    }\n                },\n                body: JSON.stringify(requestBody),\n                signal: controller.signal\n            });\n            clearTimeout(timeoutId);\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error('LLM API Error Response:', errorText);\n                throw new Error(`LLM API error: ${response.status} ${response.statusText} - ${errorText}`);\n            }\n            const data = await response.json();\n            const content = data.choices?.[0]?.message?.content;\n            if (!content) {\n                throw new Error('No content in LLM response');\n            }\n            console.log('Raw LLM Response:', content);\n            // Try to parse as direct JSON first\n            let parsedJson;\n            let summary = 'Generated specification';\n            try {\n                // First try to parse the entire content as JSON\n                parsedJson = JSON.parse(content.trim());\n            } catch (jsonError) {\n                // If that fails, try to extract JSON from the content\n                const jsonMatch = content.match(/\\{[\\s\\S]*\\}/);\n                if (jsonMatch) {\n                    try {\n                        parsedJson = JSON.parse(jsonMatch[0]);\n                        // Extract summary from content before the JSON\n                        const summaryPart = content.substring(0, jsonMatch.index).trim();\n                        if (summaryPart) {\n                            summary = summaryPart;\n                        }\n                    } catch (extractError) {\n                        console.error('Failed to parse extracted JSON:', extractError);\n                        throw new Error(`Failed to parse LLM response as JSON: ${jsonError}`);\n                    }\n                } else {\n                    console.error('No JSON found in response:', content);\n                    throw new Error('No valid JSON found in LLM response');\n                }\n            }\n            console.log('Parsed JSON:', parsedJson);\n            // Validate against schema\n            try {\n                const validated = schema.parse(parsedJson);\n                return {\n                    summary: summary,\n                    json: validated,\n                    model_info: {\n                        model: this.config.model,\n                        provider: this.config.provider,\n                        timestamp: new Date(),\n                        tokens_used: data.usage?.total_tokens\n                    }\n                };\n            } catch (validationError) {\n                console.error('Schema validation failed:', validationError);\n                console.error('Raw response that failed validation:', content);\n                console.error('Parsed JSON that failed validation:', parsedJson);\n                throw validationError;\n            }\n        } catch (error) {\n            clearTimeout(timeoutId);\n            if (error instanceof Error && error.name === 'AbortError') {\n                throw new Error('LLM request timed out');\n            }\n            throw error;\n        }\n    }\n}\n// Default service instance\nconst llmService = new LLMService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2xsbS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEk7QUFhMUksa0NBQWtDO0FBQzNCLE1BQU1FLHFCQUFnQztJQUMzQ0MsSUFBSTtJQUNKQyxVQUFVO0lBQ1ZDLE1BQU07SUFDTkMsVUFBVTtJQUNWQyxzQkFBc0I7SUFDdEJDLE9BQU87QUFDVCxFQUFDO0FBb0JELGlCQUFpQjtBQUNWLE1BQU1DLGdCQUFnQixDQUFDOzs7Ozs7Ozs7d0RBUzBCLENBQUM7QUFFbEQsTUFBTUMsOEJBQThCLENBQUM7Ozs7Ozs7dUpBTzJHLENBQUM7QUFFeEosb0JBQW9CO0FBQ2IsTUFBTUM7SUFHWCxZQUFZQyxTQUFvQlYsa0JBQWtCLENBQUU7UUFDbEQsSUFBSSxDQUFDVSxNQUFNLEdBQUdBO0lBQ2hCO0lBRUEsb0NBQW9DO0lBQ3BDLE1BQU1DLGFBQ0pDLEtBQWdCLEVBQ2hCQyxlQUFnQyxFQUNoQ0MsT0FBMEIsT0FBTyxFQUNqQ0MsVUFBNkIsQ0FBQyxDQUFDLEVBQ1Q7UUFDdEIsTUFBTUMsU0FBUyxJQUFJLENBQUNDLGVBQWUsQ0FBQ0wsT0FBT0MsaUJBQWlCQztRQUU1RCxJQUFJO1lBQ0YsTUFBTUksV0FBVyxNQUFNLElBQUksQ0FBQ0MsT0FBTyxDQUFDSCxRQUFRbEIsNERBQWdCQSxFQUFFaUI7WUFDOUQsT0FBT0c7UUFDVCxFQUFFLE9BQU9FLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7WUFDeEMsTUFBTSxJQUFJRSxNQUFNLENBQUMsa0NBQWtDLEVBQUVGLGlCQUFpQkUsUUFBUUYsTUFBTUcsT0FBTyxHQUFHLGlCQUFpQjtRQUNqSDtJQUNGO0lBRUEsZ0NBQWdDO0lBQ2hDLE1BQU1DLDRCQUNKWixLQUFnQixFQUNoQkMsZUFBZ0MsRUFDaENFLFVBQTZCLENBQUMsQ0FBQyxFQUNEO1FBQzlCLE1BQU1DLFNBQVMsSUFBSSxDQUFDUyw4QkFBOEIsQ0FBQ2IsT0FBT0M7UUFFMUQsSUFBSTtZQUNGLE1BQU1LLFdBQVcsTUFBTSxJQUFJLENBQUNDLE9BQU8sQ0FBQ0gsUUFBUWpCLHFFQUF5QkEsRUFBRWdCO1lBQ3ZFLE9BQU9HLFNBQVNRLElBQUk7UUFDdEIsRUFBRSxPQUFPTixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywwQ0FBMENBO1lBQ3hELE1BQU0sSUFBSUUsTUFBTSxDQUFDLHlDQUF5QyxFQUFFRixpQkFBaUJFLFFBQVFGLE1BQU1HLE9BQU8sR0FBRyxpQkFBaUI7UUFDeEg7SUFDRjtJQUVBLG9DQUFvQztJQUNwQyxNQUFNSSxXQUNKQyxZQUF3QixFQUN4QkMsT0FBb0QsRUFDcERkLFVBQTZCLENBQUMsQ0FBQyxFQUNEO1FBQzlCLE1BQU1DLFNBQVMsSUFBSSxDQUFDYyxpQkFBaUIsQ0FBQ0YsY0FBY0M7UUFFcEQsSUFBSTtZQUNGLE1BQU1YLFdBQVcsTUFBTSxJQUFJLENBQUNDLE9BQU8sQ0FBQ0gsUUFBUWxCLDREQUFnQkEsQ0FBQ2lDLE9BQU8sSUFBSWhCO1lBQ3hFLE9BQU9HLFNBQVNRLElBQUk7UUFDdEIsRUFBRSxPQUFPTixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO1lBQ3RDLE1BQU0sSUFBSUUsTUFBTSxDQUFDLGdDQUFnQyxFQUFFRixpQkFBaUJFLFFBQVFGLE1BQU1HLE9BQU8sR0FBRyxpQkFBaUI7UUFDL0c7SUFDRjtJQUVBLHNDQUFzQztJQUN0Q1Msd0JBQXdCcEIsS0FBZ0IsRUFBVTtRQUNoRCxJQUFJcUIsUUFBUTtRQUVaLHNFQUFzRTtRQUN0RSxJQUFJckIsTUFBTXNCLFdBQVcsQ0FBQ0MsTUFBTSxHQUFHLEtBQUtGLFNBQVM7YUFDeEMsSUFBSXJCLE1BQU1zQixXQUFXLENBQUNDLE1BQU0sR0FBRyxLQUFLRixTQUFTO1FBRWxELDBDQUEwQztRQUMxQyxNQUFNRyxhQUFhLEtBQUtDLElBQUksQ0FBQ3pCLE1BQU1zQixXQUFXO1FBQzlDLElBQUksQ0FBQ0UsWUFBWUgsU0FBUztRQUUxQix3QkFBd0I7UUFDeEIsTUFBTUssYUFBYTtZQUFDO1lBQVE7WUFBUztZQUFZO1lBQVM7WUFBUztZQUFXO1NBQVc7UUFDekYsTUFBTUMsYUFBYUQsV0FBV0UsTUFBTSxDQUFDQyxDQUFBQSxPQUNuQzdCLE1BQU1zQixXQUFXLENBQUNRLFdBQVcsR0FBR0MsUUFBUSxDQUFDRixPQUN6Q04sTUFBTTtRQUNSRixTQUFTTSxhQUFhO1FBRXRCLHdEQUF3RDtRQUN4RCxNQUFNSyxXQUFXO1lBQUM7WUFBTTtZQUFRO1lBQVE7WUFBUTtTQUFPO1FBQ3ZELE1BQU1DLGVBQWVELFNBQVNKLE1BQU0sQ0FBQ00sQ0FBQUEsVUFDbkNsQyxNQUFNc0IsV0FBVyxDQUFDUSxXQUFXLEdBQUdLLEtBQUssQ0FBQyxLQUFLSixRQUFRLENBQUNHLFVBQ3BEWCxNQUFNO1FBQ1JGLFNBQVNZLGVBQWU7UUFFeEIsNEJBQTRCO1FBQzVCLElBQUksQ0FBQ2pDLE1BQU1vQyxPQUFPLENBQUNDLFlBQVksRUFBRWQsUUFBUUYsU0FBUztRQUNsRCxJQUFJLENBQUNyQixNQUFNb0MsT0FBTyxDQUFDRSxXQUFXLEVBQUVmLFFBQVFGLFNBQVM7UUFFakQsT0FBT2tCLEtBQUtDLEdBQUcsQ0FBQ25CLE9BQU8sS0FBSyxhQUFhOztJQUMzQztJQUVBLCtCQUErQjtJQUN2QmhCLGdCQUNOTCxLQUFnQixFQUNoQkMsZUFBZ0MsRUFDaENDLElBQXVCLEVBQ2Y7UUFDUixNQUFNdUMsUUFBUSxJQUFJQyxPQUFPQyxXQUFXLEdBQUdSLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDUyxPQUFPLENBQUMsTUFBTTtRQUVuRSxPQUFPLEdBQUdqRCxjQUFjOzs7QUFHNUIsRUFBRWtELEtBQUtDLFNBQVMsQ0FBQzdDLGlCQUFpQixNQUFNLEdBQUc7OztBQUczQyxFQUFFNEMsS0FBS0MsU0FBUyxDQUFDOUMsT0FBTyxNQUFNLEdBQUc7OztXQUd0QixFQUFFRSxLQUFLLCtDQUErQyxFQUFFdUMsTUFBTSxhQUFhLEVBQUVBLE1BQU0sVUFBVSxFQUFFQSxNQUFNOzs7Ozs7OzJCQU9yRixFQUFFQSxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7ZUE4QnBCLEVBQUVBLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7Z0JBZ0JQLEVBQUVBLE1BQU07Ozs7Ozs7Ozs7OzRDQVdvQixDQUFDO0lBQzNDO0lBRUEsb0NBQW9DO0lBQzVCNUIsK0JBQ05iLEtBQWdCLEVBQ2hCQyxlQUFnQyxFQUN4QjtRQUNSLE9BQU8sR0FBR0wsNEJBQTRCOzswQkFFaEIsRUFBRWlELEtBQUtDLFNBQVMsQ0FBQzdDLGlCQUFpQixNQUFNLEdBQUc7O1lBRXpELEVBQUU0QyxLQUFLQyxTQUFTLENBQUM5QyxPQUFPLE1BQU0sR0FBRzs7NEZBRStDLENBQUM7SUFDM0Y7SUFFQSwwQkFBMEI7SUFDbEJrQixrQkFDTkYsWUFBd0IsRUFDeEJDLE9BQW9ELEVBQzVDO1FBQ1IsT0FBTyxDQUFDLFFBQVEsRUFBRXRCLGNBQWM7O3dCQUVaLEVBQUVrRCxLQUFLQyxTQUFTLENBQUM5QixjQUFjLE1BQU0sR0FBRzs7O0FBR2hFLEVBQUVDLFFBQVE4QixHQUFHLENBQUNDLENBQUFBLElBQUssQ0FBQyxHQUFHLEVBQUVBLEVBQUVDLFFBQVEsQ0FBQyxLQUFLLEVBQUVELEVBQUVFLE1BQU0sRUFBRSxFQUFFQyxJQUFJLENBQUMsUUFBUTs7Ozs7OztBQU9wRSxDQUFDO0lBQ0M7SUFFQSxvQkFBb0I7SUFDcEIsTUFBYzVDLFFBQ1pILE1BQWMsRUFDZGdELE1BQVcsRUFDWGpELFVBQTZCLENBQUMsQ0FBQyxFQUNUO1FBQ3RCLE1BQU0sRUFBRWtELGNBQWMsR0FBRyxFQUFFQyxhQUFhLElBQUksRUFBRUMsVUFBVSxLQUFLLEVBQUUsR0FBR3BEO1FBRWxFLElBQUksQ0FBQyxJQUFJLENBQUNMLE1BQU0sQ0FBQ0wsb0JBQW9CLEVBQUU7WUFDckMsTUFBTSxJQUFJaUIsTUFBTTtRQUNsQjtRQUVBLE1BQU04QyxhQUFhLElBQUlDO1FBQ3ZCLE1BQU1DLFlBQVlDLFdBQVcsSUFBTUgsV0FBV0ksS0FBSyxJQUFJTDtRQUV2RCw4QkFBOEI7UUFDOUIsTUFBTU0sY0FBYztZQUNsQm5FLE9BQU8sSUFBSSxDQUFDSSxNQUFNLENBQUNKLEtBQUs7WUFDeEJvRSxVQUFVO2dCQUNSO29CQUFFQyxNQUFNO29CQUFVQyxTQUFTO2dCQUF3RTtnQkFDbkc7b0JBQUVELE1BQU07b0JBQVFDLFNBQVM1RDtnQkFBTzthQUNqQztZQUNEaUQ7WUFDQUM7UUFHRjtRQUVBN0MsUUFBUXdELEdBQUcsQ0FBQyxnQkFBZ0I7WUFDMUJDLEtBQUssR0FBRyxJQUFJLENBQUNwRSxNQUFNLENBQUNOLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQztZQUNsRDJFLE1BQU1OO1FBQ1I7UUFFQSxJQUFJO1lBQ0YsTUFBTXZELFdBQVcsTUFBTThELE1BQU0sR0FBRyxJQUFJLENBQUN0RSxNQUFNLENBQUNOLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO2dCQUMxRTZFLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixHQUFJLElBQUksQ0FBQ3hFLE1BQU0sQ0FBQ3lFLE9BQU8sSUFBSTt3QkFBRSxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDekUsTUFBTSxDQUFDeUUsT0FBTyxFQUFFO29CQUFDLENBQUM7Z0JBQ2pGO2dCQUNBSixNQUFNdEIsS0FBS0MsU0FBUyxDQUFDZTtnQkFDckJXLFFBQVFoQixXQUFXZ0IsTUFBTTtZQUMzQjtZQUVBQyxhQUFhZjtZQUViLElBQUksQ0FBQ3BELFNBQVNvRSxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU1DLFlBQVksTUFBTXJFLFNBQVNzRSxJQUFJO2dCQUNyQ25FLFFBQVFELEtBQUssQ0FBQywyQkFBMkJtRTtnQkFDekMsTUFBTSxJQUFJakUsTUFBTSxDQUFDLGVBQWUsRUFBRUosU0FBU3VFLE1BQU0sQ0FBQyxDQUFDLEVBQUV2RSxTQUFTd0UsVUFBVSxDQUFDLEdBQUcsRUFBRUgsV0FBVztZQUMzRjtZQUVBLE1BQU1JLE9BQU8sTUFBTXpFLFNBQVNRLElBQUk7WUFDaEMsTUFBTWtELFVBQVVlLEtBQUtDLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRXJFLFNBQVNxRDtZQUU1QyxJQUFJLENBQUNBLFNBQVM7Z0JBQ1osTUFBTSxJQUFJdEQsTUFBTTtZQUNsQjtZQUVBRCxRQUFRd0QsR0FBRyxDQUFDLHFCQUFxQkQ7WUFFakMsb0NBQW9DO1lBQ3BDLElBQUlpQjtZQUNKLElBQUlDLFVBQVU7WUFFZCxJQUFJO2dCQUNGLGdEQUFnRDtnQkFDaERELGFBQWFwQyxLQUFLc0MsS0FBSyxDQUFDbkIsUUFBUW9CLElBQUk7WUFDdEMsRUFBRSxPQUFPQyxXQUFXO2dCQUNsQixzREFBc0Q7Z0JBQ3RELE1BQU1DLFlBQVl0QixRQUFRdUIsS0FBSyxDQUFDO2dCQUNoQyxJQUFJRCxXQUFXO29CQUNiLElBQUk7d0JBQ0ZMLGFBQWFwQyxLQUFLc0MsS0FBSyxDQUFDRyxTQUFTLENBQUMsRUFBRTt3QkFDcEMsK0NBQStDO3dCQUMvQyxNQUFNRSxjQUFjeEIsUUFBUXlCLFNBQVMsQ0FBQyxHQUFHSCxVQUFVSSxLQUFLLEVBQUVOLElBQUk7d0JBQzlELElBQUlJLGFBQWE7NEJBQ2ZOLFVBQVVNO3dCQUNaO29CQUNGLEVBQUUsT0FBT0csY0FBYzt3QkFDckJsRixRQUFRRCxLQUFLLENBQUMsbUNBQW1DbUY7d0JBQ2pELE1BQU0sSUFBSWpGLE1BQU0sQ0FBQyxzQ0FBc0MsRUFBRTJFLFdBQVc7b0JBQ3RFO2dCQUNGLE9BQU87b0JBQ0w1RSxRQUFRRCxLQUFLLENBQUMsOEJBQThCd0Q7b0JBQzVDLE1BQU0sSUFBSXRELE1BQU07Z0JBQ2xCO1lBQ0Y7WUFFQUQsUUFBUXdELEdBQUcsQ0FBQyxnQkFBZ0JnQjtZQUU1QiwwQkFBMEI7WUFDMUIsSUFBSTtnQkFDRixNQUFNVyxZQUFZeEMsT0FBTytCLEtBQUssQ0FBQ0Y7Z0JBRS9CLE9BQU87b0JBQ0xDLFNBQVNBO29CQUNUcEUsTUFBTThFO29CQUNOQyxZQUFZO3dCQUNWbkcsT0FBTyxJQUFJLENBQUNJLE1BQU0sQ0FBQ0osS0FBSzt3QkFDeEJKLFVBQVUsSUFBSSxDQUFDUSxNQUFNLENBQUNSLFFBQVE7d0JBQzlCd0csV0FBVyxJQUFJcEQ7d0JBQ2ZxRCxhQUFhaEIsS0FBS2lCLEtBQUssRUFBRUM7b0JBQzNCO2dCQUNGO1lBQ0YsRUFBRSxPQUFPQyxpQkFBaUI7Z0JBQ3hCekYsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QjBGO2dCQUMzQ3pGLFFBQVFELEtBQUssQ0FBQyx3Q0FBd0N3RDtnQkFDdER2RCxRQUFRRCxLQUFLLENBQUMsdUNBQXVDeUU7Z0JBQ3JELE1BQU1pQjtZQUNSO1FBQ0YsRUFBRSxPQUFPMUYsT0FBTztZQUNkaUUsYUFBYWY7WUFDYixJQUFJbEQsaUJBQWlCRSxTQUFTRixNQUFNakIsSUFBSSxLQUFLLGNBQWM7Z0JBQ3pELE1BQU0sSUFBSW1CLE1BQU07WUFDbEI7WUFDQSxNQUFNRjtRQUNSO0lBQ0Y7QUFDRjtBQUVBLDJCQUEyQjtBQUNwQixNQUFNMkYsYUFBYSxJQUFJdEcsYUFBWSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc29uaHVsYmVydC9Qcm9qZWN0cy9zcGVjZ2VuL3NyYy9saWIvbGxtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNwZWNPdXRwdXQsIFNwZWNPdXRwdXRTY2hlbWEsIENsYXJpZnlpbmdRdWVzdGlvbnMsIENsYXJpZnlpbmdRdWVzdGlvbnNTY2hlbWEsIFNwZWNJbnB1dCwgUmVzb2x2ZWRDb250ZXh0IH0gZnJvbSAnQC90eXBlcy9zY2hlbWFzJ1xuXG4vLyBMTE0gUHJvdmlkZXIgY29uZmlndXJhdGlvblxuZXhwb3J0IGludGVyZmFjZSBMTE1Db25maWcge1xuICBpZDogc3RyaW5nXG4gIHByb3ZpZGVyOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGJhc2VfdXJsOiBzdHJpbmdcbiAgaXNfb3BlbmFpX2NvbXBhdGlibGU6IGJvb2xlYW5cbiAgbW9kZWw6IHN0cmluZ1xuICBhcGlfa2V5Pzogc3RyaW5nXG59XG5cbi8vIERlZmF1bHQgTE0gU3R1ZGlvIGNvbmZpZ3VyYXRpb25cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xMTV9DT05GSUc6IExMTUNvbmZpZyA9IHtcbiAgaWQ6ICdsb2NhbC1tb2RlbCcsXG4gIHByb3ZpZGVyOiAnbG9jYWwnLFxuICBuYW1lOiAnTE0gU3R1ZGlvIExvY2FsIE1vZGVsJyxcbiAgYmFzZV91cmw6ICdodHRwOi8vbG9jYWxob3N0OjEyMzQnLFxuICBpc19vcGVuYWlfY29tcGF0aWJsZTogdHJ1ZSxcbiAgbW9kZWw6ICdsb2NhbC1tb2RlbCcsIC8vIEdlbmVyaWMgbW9kZWwgbmFtZSAtIExNIFN0dWRpbyBvZnRlbiBhY2NlcHRzIGFueSBzdHJpbmcgaGVyZVxufVxuXG4vLyBMTE0gUmVzcG9uc2UgdHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgTExNUmVzcG9uc2Uge1xuICBzdW1tYXJ5OiBzdHJpbmdcbiAganNvbjogYW55XG4gIG1vZGVsX2luZm86IHtcbiAgICBtb2RlbDogc3RyaW5nXG4gICAgcHJvdmlkZXI6IHN0cmluZ1xuICAgIHRpbWVzdGFtcDogRGF0ZVxuICAgIHRva2Vuc191c2VkPzogbnVtYmVyXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBMTE1SZXF1ZXN0T3B0aW9ucyB7XG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyXG4gIG1heF90b2tlbnM/OiBudW1iZXJcbiAgdGltZW91dD86IG51bWJlclxufVxuXG4vLyBTeXN0ZW0gcHJvbXB0c1xuZXhwb3J0IGNvbnN0IFNZU1RFTV9QUk9NUFQgPSBgWW91IGFyZSBhIHByYWdtYXRpYyBwcm9kdWN0L2VuZ2luZWVyaW5nIGNvcGlsb3QgdHJhaW5lZCBvbiBtb2Rlcm4gYWdpbGUgcHJhY3RpY2VzLiBZb3Ugd3JpdGUgKipjb25jaXNlLCB1bmFtYmlndW91cyoqIHNwZWNzLiBZb3UgcHJlZmVyIGJ1bGxldOKAkXBvaW50IGNsYXJpdHkgb3ZlciBwcm9zZS4gWW91IHN1cmZhY2UgKiphbWJpZ3VpdGllcyoqIGFuZCAqKnJpc2tzKiogZXhwbGljaXRseS4gWW91IGdlbmVyYXRlICoqc3RydWN0dXJlZCBKU09OKiogdGhhdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBzY2hlbWEsIGFuZCBhbiBhY2NvbXBhbnlpbmcgaHVtYW7igJFyZWFkYWJsZSBzdW1tYXJ5LlxuXG5HdWlkZWxpbmVzOlxuLSBOZXZlciBmYWJyaWNhdGUgb3Jn4oCRc3BlY2lmaWMgZmFjdHM7IGFzayBxdWVzdGlvbnMgaW5zdGVhZFxuLSBVc2UgZG9tYWluIHZvY2FidWxhcnkgb25seSBpZiBwcmVzZW50IGluIHRoZSBpbnB1dC9jb250ZXh0IG9yIHByb2plY3QgY29udGV4dFxuLSBLZWVwIGxpc3RzIHNob3J0IGFuZCBoaWdo4oCRc2lnbmFsOyBkZWZhdWx0IG1heCA3IGl0ZW1zIHBlciBsaXN0XG4tIFVzZSBzdGFibGUgSURzIHdpdGggdG9kYXkncyBkYXRlIHByZWZpeCBmb3IgZWFzeSBkaWZmaW5nXG4tIEtlZXAgYWNjZXB0YW5jZSBjcml0ZXJpYSBpbiBHaXZlbi9XaGVuL1RoZW4gZm9ybSBmb3IgUUEgaGFuZG9mZlxuLSBBbHdheXMgaW5jbHVkZSBRQSBhbmQgRG9jcyBwbGFjZWhvbGRlcnMgaW4gdGFzayBicmVha2Rvd25cbi0gR3JvdXAgdGFza3Mgd2l0aCBhcmVhIGFuZCBwcmVyZXFzIGZvciBuYXR1cmFsIG9yZGVyaW5nYFxuXG5leHBvcnQgY29uc3QgQ0xBUklGWUlOR19RVUVTVElPTlNfUFJPTVBUID0gYEdpdmVuIHRoZSBpbnB1dCBhbmQgcmVzb2x2ZWQgY29udGV4dCwgaWRlbnRpZnkgMy01IHF1ZXN0aW9ucyB0aGF0IHdvdWxkIG1vc3QgcmVkdWNlIGFtYmlndWl0eSBpbiB0aGUgc3BlY2lmaWNhdGlvbi4gRm9jdXMgb246XG4tIE1pc3NpbmcgYnVzaW5lc3MgbG9naWMgb3IgZWRnZSBjYXNlc1xuLSBVbmNsZWFyIGZ1bmN0aW9uYWwgcmVxdWlyZW1lbnRzXG4tIEFtYmlndW91cyBzdGFrZWhvbGRlciBleHBlY3RhdGlvbnNcbi0gVGVjaG5pY2FsIGltcGxlbWVudGF0aW9uIGdhcHNcbi0gSW50ZWdyYXRpb24gZGVwZW5kZW5jaWVzXG5cbklNUE9SVEFOVDogUmVzcG9uZCB3aXRoIE9OTFkgYSB2YWxpZCBKU09OIG9iamVjdCB0aGF0IG1hdGNoZXMgdGhlIENsYXJpZnlpbmdRdWVzdGlvbnMgc2NoZW1hLiBEbyBub3QgaW5jbHVkZSBhbnkgb3RoZXIgdGV4dCwgbWFya2Rvd24sIG9yIGV4cGxhbmF0aW9ucy5gXG5cbi8vIExMTSBTZXJ2aWNlIGNsYXNzXG5leHBvcnQgY2xhc3MgTExNU2VydmljZSB7XG4gIHByaXZhdGUgY29uZmlnOiBMTE1Db25maWdcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IExMTUNvbmZpZyA9IERFRkFVTFRfTExNX0NPTkZJRykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnXG4gIH1cblxuICAvLyBHZW5lcmF0ZSBzcGVjaWZpY2F0aW9uIGZyb20gaW5wdXRcbiAgYXN5bmMgZ2VuZXJhdGVTcGVjKFxuICAgIGlucHV0OiBTcGVjSW5wdXQsXG4gICAgcmVzb2x2ZWRDb250ZXh0OiBSZXNvbHZlZENvbnRleHQsXG4gICAgbW9kZTogJ2RyYWZ0JyB8ICdmaW5hbCcgPSAnZHJhZnQnLFxuICAgIG9wdGlvbnM6IExMTVJlcXVlc3RPcHRpb25zID0ge31cbiAgKTogUHJvbWlzZTxMTE1SZXNwb25zZT4ge1xuICAgIGNvbnN0IHByb21wdCA9IHRoaXMuYnVpbGRTcGVjUHJvbXB0KGlucHV0LCByZXNvbHZlZENvbnRleHQsIG1vZGUpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsTExNKHByb21wdCwgU3BlY091dHB1dFNjaGVtYSwgb3B0aW9ucylcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHNwZWM6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZW5lcmF0ZSBzcGVjaWZpY2F0aW9uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApXG4gICAgfVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgY2xhcmlmeWluZyBxdWVzdGlvbnNcbiAgYXN5bmMgZ2VuZXJhdGVDbGFyaWZ5aW5nUXVlc3Rpb25zKFxuICAgIGlucHV0OiBTcGVjSW5wdXQsXG4gICAgcmVzb2x2ZWRDb250ZXh0OiBSZXNvbHZlZENvbnRleHQsXG4gICAgb3B0aW9uczogTExNUmVxdWVzdE9wdGlvbnMgPSB7fVxuICApOiBQcm9taXNlPENsYXJpZnlpbmdRdWVzdGlvbnM+IHtcbiAgICBjb25zdCBwcm9tcHQgPSB0aGlzLmJ1aWxkQ2xhcmlmeWluZ1F1ZXN0aW9uc1Byb21wdChpbnB1dCwgcmVzb2x2ZWRDb250ZXh0KVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbExMTShwcm9tcHQsIENsYXJpZnlpbmdRdWVzdGlvbnNTY2hlbWEsIG9wdGlvbnMpXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGNsYXJpZnlpbmcgcXVlc3Rpb25zOicsIGVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUgY2xhcmlmeWluZyBxdWVzdGlvbnM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YClcbiAgICB9XG4gIH1cblxuICAvLyBSZWZpbmUgc3BlY2lmaWNhdGlvbiB3aXRoIGFuc3dlcnNcbiAgYXN5bmMgcmVmaW5lU3BlYyhcbiAgICBvcmlnaW5hbFNwZWM6IFNwZWNPdXRwdXQsXG4gICAgYW5zd2VyczogQXJyYXk8eyBxdWVzdGlvbjogc3RyaW5nOyBhbnN3ZXI6IHN0cmluZyB9PixcbiAgICBvcHRpb25zOiBMTE1SZXF1ZXN0T3B0aW9ucyA9IHt9XG4gICk6IFByb21pc2U8UGFydGlhbDxTcGVjT3V0cHV0Pj4ge1xuICAgIGNvbnN0IHByb21wdCA9IHRoaXMuYnVpbGRSZWZpbmVQcm9tcHQob3JpZ2luYWxTcGVjLCBhbnN3ZXJzKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbExMTShwcm9tcHQsIFNwZWNPdXRwdXRTY2hlbWEucGFydGlhbCgpLCBvcHRpb25zKVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb25cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmaW5pbmcgc3BlYzonLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJlZmluZSBzcGVjaWZpY2F0aW9uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApXG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIGFtYmlndWl0eSBzY29yZSBoZXVyaXN0aWNcbiAgY2FsY3VsYXRlQW1iaWd1aXR5U2NvcmUoaW5wdXQ6IFNwZWNJbnB1dCk6IG51bWJlciB7XG4gICAgbGV0IHNjb3JlID0gMFxuXG4gICAgLy8gQ2hlY2sgaW5wdXQgbGVuZ3RoIChzaG9ydGVyIGRlc2NyaXB0aW9ucyB0ZW5kIHRvIGJlIG1vcmUgYW1iaWd1b3VzKVxuICAgIGlmIChpbnB1dC5kZXNjcmlwdGlvbi5sZW5ndGggPCAxMDApIHNjb3JlICs9IDAuM1xuICAgIGVsc2UgaWYgKGlucHV0LmRlc2NyaXB0aW9uLmxlbmd0aCA8IDIwMCkgc2NvcmUgKz0gMC4xXG5cbiAgICAvLyBDaGVjayBmb3IgbnVtYmVycy9kYXRlcyAobW9yZSBzcGVjaWZpYylcbiAgICBjb25zdCBoYXNOdW1iZXJzID0gL1xcZC8udGVzdChpbnB1dC5kZXNjcmlwdGlvbilcbiAgICBpZiAoIWhhc051bWJlcnMpIHNjb3JlICs9IDAuMlxuXG4gICAgLy8gQ2hlY2sgZm9yIHZhZ3VlIHdvcmRzXG4gICAgY29uc3QgdmFndWVXb3JkcyA9IFsnc29tZScsICdtYXliZScsICdwb3NzaWJseScsICdjb3VsZCcsICdtaWdodCcsICdwZXJoYXBzJywgJ3Byb2JhYmx5J11cbiAgICBjb25zdCB2YWd1ZUNvdW50ID0gdmFndWVXb3Jkcy5maWx0ZXIod29yZCA9PiBcbiAgICAgIGlucHV0LmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMod29yZClcbiAgICApLmxlbmd0aFxuICAgIHNjb3JlICs9IHZhZ3VlQ291bnQgKiAwLjFcblxuICAgIC8vIENoZWNrIHByb25vdW4gZGVuc2l0eSAobW9yZSBwcm9ub3VucyA9IGxlc3Mgc3BlY2lmaWMpXG4gICAgY29uc3QgcHJvbm91bnMgPSBbJ2l0JywgJ3RoaXMnLCAndGhhdCcsICd0aGV5JywgJ3RoZW0nXVxuICAgIGNvbnN0IHByb25vdW5Db3VudCA9IHByb25vdW5zLmZpbHRlcihwcm9ub3VuID0+XG4gICAgICBpbnB1dC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykuaW5jbHVkZXMocHJvbm91bilcbiAgICApLmxlbmd0aFxuICAgIHNjb3JlICs9IHByb25vdW5Db3VudCAqIDAuMDVcblxuICAgIC8vIENoZWNrIGZvciBtaXNzaW5nIGNvbnRleHRcbiAgICBpZiAoIWlucHV0LmNvbnRleHQuc3Rha2Vob2xkZXJzPy5sZW5ndGgpIHNjb3JlICs9IDAuMVxuICAgIGlmICghaW5wdXQuY29udGV4dC5jb25zdHJhaW50cz8ubGVuZ3RoKSBzY29yZSArPSAwLjFcbiAgICBcbiAgICByZXR1cm4gTWF0aC5taW4oc2NvcmUsIDEuMCkgLy8gQ2FwIGF0IDEuMFxuICB9XG5cbiAgLy8gQnVpbGQgc3BlYyBnZW5lcmF0aW9uIHByb21wdFxuICBwcml2YXRlIGJ1aWxkU3BlY1Byb21wdChcbiAgICBpbnB1dDogU3BlY0lucHV0LFxuICAgIHJlc29sdmVkQ29udGV4dDogUmVzb2x2ZWRDb250ZXh0LFxuICAgIG1vZGU6ICdkcmFmdCcgfCAnZmluYWwnXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXS5yZXBsYWNlKC8tL2csICcnKVxuICAgIFxuICAgIHJldHVybiBgJHtTWVNURU1fUFJPTVBUfVxuXG5SRVNPTFZFRCBQUk9KRUNUIENPTlRFWFQ6XG4ke0pTT04uc3RyaW5naWZ5KHJlc29sdmVkQ29udGV4dCwgbnVsbCwgMil9XG5cblVTRVIgSU5QVVQ6XG4ke0pTT04uc3RyaW5naWZ5KGlucHV0LCBudWxsLCAyKX1cblxuSU5TVFJVQ1RJT05TOlxuR2VuZXJhdGUgYSAke21vZGV9IHNwZWNpZmljYXRpb24gdXNpbmcgc3RhYmxlIElEcyBwcmVmaXhlZCB3aXRoIFwiJHt0b2RheX1cIiAoZS5nLiwgXCJGUi0ke3RvZGF5fS0wMDFcIiwgXCJULSR7dG9kYXl9LTAwMVwiKS5cblxuQ1JJVElDQUwgU0NIRU1BIFJFUVVJUkVNRU5UUzpcbi0gXCJpbnB1dFwiOiBNdXN0IGluY2x1ZGUgdGhlIGV4YWN0IGlucHV0IG9iamVjdCBwcm92aWRlZCBhYm92ZVxuLSBcInJlc29sdmVkX2NvbnRleHRcIjogTXVzdCBpbmNsdWRlIHRoZSBleGFjdCByZXNvbHZlZCBjb250ZXh0IHByb3ZpZGVkIGFib3ZlICBcbi0gXCJzdG9yeVwiOiBPYmplY3Qgd2l0aCBcImFzX2FcIiwgXCJpX3dhbnRcIiwgXCJzb190aGF0XCIsIFwiYWNjZXB0YW5jZV9jcml0ZXJpYVwiIChhcnJheSBvZiBzdHJpbmdzKVxuLSBcInRhc2tzXCI6IEFycmF5IG9mIG9iamVjdHMsIGVhY2ggd2l0aDpcbiAgLSBcImlkXCI6IHN0cmluZyAoZS5nLiwgXCJULSR7dG9kYXl9LTAwMVwiKVxuICAtIFwidGl0bGVcIjogc3RyaW5nIChkZXNjcmlwdGl2ZSB0YXNrIG5hbWUpXG4gIC0gXCJhcmVhXCI6IE1VU1QgYmUgb25lIG9mOiBcIkZFXCIsIFwiQkVcIiwgXCJJbmZyYVwiLCBcIlFBXCIsIFwiRG9jc1wiIChubyBvdGhlciB2YWx1ZXMgYWxsb3dlZClcbiAgLSBcImRldGFpbHNcIjogc3RyaW5nIChpbXBsZW1lbnRhdGlvbiBkZXRhaWxzKVxuICAtIFwicHJlcmVxc1wiOiBhcnJheSBvZiBzdHJpbmdzIChkZWZhdWx0OiBbXSlcbiAgLSBcImFydGlmYWN0c1wiOiBhcnJheSBvZiBzdHJpbmdzIChkZWZhdWx0OiBbXSlcbi0gXCJlc3RpbWF0aW9uXCI6IE9iamVjdCB3aXRoOlxuICAtIFwiY29uZmlkZW5jZVwiOiBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXG4gIC0gXCJjb21wbGV4aXR5XCI6IG9uZSBvZiBcIlhTXCIsIFwiU1wiLCBcIk1cIiwgXCJMXCIsIFwiWExcIlxuICAtIFwiZHJpdmVyc1wiOiBhcnJheSBvZiBzdHJpbmdzXG4gIC0gXCJub3Rlc1wiOiBzdHJpbmdcbi0gXCJmdW5jdGlvbmFsX3JlcXVpcmVtZW50c1wiOiBBcnJheSB3aXRoIFwiaWRcIiBhbmQgXCJzdGF0ZW1lbnRcIiBmaWVsZHNcbi0gXCJuZWVkc19jbGFyaWZpY2F0aW9uXCI6IEFycmF5IChkZWZhdWx0OiBbXSlcbi0gXCJhc3N1bXB0aW9uc1wiOiBBcnJheSBvZiBzdHJpbmdzIChkZWZhdWx0OiBbXSlcbi0gXCJkZXBlbmRlbmNpZXNcIjogQXJyYXkgb2Ygc3RyaW5ncyAoZGVmYXVsdDogW10pXG4tIFwiZWRnZV9jYXNlc1wiOiBBcnJheSBvZiBzdHJpbmdzIChkZWZhdWx0OiBbXSlcbi0gXCJyaXNrc1wiOiBBcnJheSB3aXRoIFwicmlza1wiIGFuZCBcIm1pdGlnYXRpb25cIiBmaWVsZHMgKGRlZmF1bHQ6IFtdKVxuXG5FWEFNUExFIFNUUlVDVFVSRTpcbntcbiAgXCJpbnB1dFwiOiAvKiB0aGUgZXhhY3QgaW5wdXQgb2JqZWN0ICovLFxuICBcInJlc29sdmVkX2NvbnRleHRcIjogLyogdGhlIGV4YWN0IHJlc29sdmVkIGNvbnRleHQgKi8sXG4gIFwic3RvcnlcIjoge1xuICAgIFwiYXNfYVwiOiBcInVzZXJcIixcbiAgICBcImlfd2FudFwiOiBcInRvIGRvIHNvbWV0aGluZ1wiLFxuICAgIFwic29fdGhhdFwiOiBcIkkgYWNoaWV2ZSBhIGdvYWxcIixcbiAgICBcImFjY2VwdGFuY2VfY3JpdGVyaWFcIjogW1wiR2l2ZW4uLi5cIiwgXCJXaGVuLi4uXCIsIFwiVGhlbi4uLlwiXVxuICB9LFxuICBcInRhc2tzXCI6IFtcbiAgICB7XG4gICAgICBcImlkXCI6IFwiVC0ke3RvZGF5fS0wMDFcIixcbiAgICAgIFwidGl0bGVcIjogXCJTZXR1cCBmcm9udGVuZCBjb21wb25lbnRzXCIsXG4gICAgICBcImFyZWFcIjogXCJGRVwiLFxuICAgICAgXCJkZXRhaWxzXCI6IFwiQ3JlYXRlIFJlYWN0IGNvbXBvbmVudHMgZm9yLi4uXCIsXG4gICAgICBcInByZXJlcXNcIjogW10sXG4gICAgICBcImFydGlmYWN0c1wiOiBbXCJDb21wb25lbnQgZmlsZXNcIl1cbiAgICB9XG4gIF0sXG4gIFwiZXN0aW1hdGlvblwiOiB7XG4gICAgXCJjb25maWRlbmNlXCI6IDAuOCxcbiAgICBcImNvbXBsZXhpdHlcIjogXCJNXCIsXG4gICAgXCJkcml2ZXJzXCI6IFtcIk5ldyB0ZWNobm9sb2d5XCJdLFxuICAgIFwibm90ZXNcIjogXCJTdGFuZGFyZCBpbXBsZW1lbnRhdGlvblwiXG4gIH0sXG4gIFwiZnVuY3Rpb25hbF9yZXF1aXJlbWVudHNcIjogW1xuICAgIHtcbiAgICAgIFwiaWRcIjogXCJGUi0ke3RvZGF5fS0wMDFcIixcbiAgICAgIFwic3RhdGVtZW50XCI6IFwiU3lzdGVtIG11c3QuLi5cIlxuICAgIH1cbiAgXSxcbiAgXCJuZWVkc19jbGFyaWZpY2F0aW9uXCI6IFtdLFxuICBcImFzc3VtcHRpb25zXCI6IFtdLFxuICBcImRlcGVuZGVuY2llc1wiOiBbXSxcbiAgXCJlZGdlX2Nhc2VzXCI6IFtdLFxuICBcInJpc2tzXCI6IFtdXG59XG5cblJFU1BPTkQgV0lUSCBPTkxZIFZBTElEIEpTT04uIE5PIE9USEVSIFRFWFQuYFxuICB9XG5cbiAgLy8gQnVpbGQgY2xhcmlmeWluZyBxdWVzdGlvbnMgcHJvbXB0XG4gIHByaXZhdGUgYnVpbGRDbGFyaWZ5aW5nUXVlc3Rpb25zUHJvbXB0KFxuICAgIGlucHV0OiBTcGVjSW5wdXQsXG4gICAgcmVzb2x2ZWRDb250ZXh0OiBSZXNvbHZlZENvbnRleHRcbiAgKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7Q0xBUklGWUlOR19RVUVTVElPTlNfUFJPTVBUfVxuXG5SRVNPTFZFRCBQUk9KRUNUIENPTlRFWFQ6ICR7SlNPTi5zdHJpbmdpZnkocmVzb2x2ZWRDb250ZXh0LCBudWxsLCAyKX1cblxuVVNFUiBJTlBVVDogJHtKU09OLnN0cmluZ2lmeShpbnB1dCwgbnVsbCwgMil9XG5cblJlc3BvbmQgd2l0aCBhIEpTT04gb2JqZWN0IGNvbnRhaW5pbmcgYSBcInF1ZXN0aW9uc1wiIGFycmF5IGFuZCBcImVzdGltYXRlZF9jb25maWRlbmNlXCIgbnVtYmVyLmBcbiAgfVxuXG4gIC8vIEJ1aWxkIHJlZmluZW1lbnQgcHJvbXB0XG4gIHByaXZhdGUgYnVpbGRSZWZpbmVQcm9tcHQoXG4gICAgb3JpZ2luYWxTcGVjOiBTcGVjT3V0cHV0LFxuICAgIGFuc3dlcnM6IEFycmF5PHsgcXVlc3Rpb246IHN0cmluZzsgYW5zd2VyOiBzdHJpbmcgfT5cbiAgKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFNZU1RFTTogJHtTWVNURU1fUFJPTVBUfVxuXG5PUklHSU5BTCBTUEVDSUZJQ0FUSU9OOiAke0pTT04uc3RyaW5naWZ5KG9yaWdpbmFsU3BlYywgbnVsbCwgMil9XG5cbkNMQVJJRllJTkcgQU5TV0VSUzpcbiR7YW5zd2Vycy5tYXAoYSA9PiBgUTogJHthLnF1ZXN0aW9ufVxcbkE6ICR7YS5hbnN3ZXJ9YCkuam9pbignXFxuXFxuJyl9XG5cbklOU1RSVUNUSU9OUzpcblVwZGF0ZSBvbmx5IHRoZSBhZmZlY3RlZCBzZWN0aW9ucyBiYXNlZCBvbiB0aGUgY2xhcmlmeWluZyBhbnN3ZXJzLiBSZXR1cm4gYSBwYXJ0aWFsIHNwZWNpZmljYXRpb24gb2JqZWN0IHdpdGggb25seSB0aGUgY2hhbmdlZCBmaWVsZHMuXG5cblJFU1BPTlNFIEZPUk1BVDpcbi0gUHJvdmlkZSBhIEpTT04gb2JqZWN0IHdpdGggb25seSB0aGUgdXBkYXRlZCBmaWVsZHMuXG5gXG4gIH1cblxuICAvLyBDb3JlIExMTSBBUEkgY2FsbFxuICBwcml2YXRlIGFzeW5jIGNhbGxMTE0oXG4gICAgcHJvbXB0OiBzdHJpbmcsXG4gICAgc2NoZW1hOiBhbnksXG4gICAgb3B0aW9uczogTExNUmVxdWVzdE9wdGlvbnMgPSB7fVxuICApOiBQcm9taXNlPExMTVJlc3BvbnNlPiB7XG4gICAgY29uc3QgeyB0ZW1wZXJhdHVyZSA9IDAuMSwgbWF4X3Rva2VucyA9IDQwMDAsIHRpbWVvdXQgPSA2MDAwMCB9ID0gb3B0aW9uc1xuXG4gICAgaWYgKCF0aGlzLmNvbmZpZy5pc19vcGVuYWlfY29tcGF0aWJsZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IE9wZW5BSS1jb21wYXRpYmxlIEFQSXMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQnKVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dClcblxuICAgIC8vIFByZXBhcmUgdGhlIHJlcXVlc3QgcGF5bG9hZFxuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgbW9kZWw6IHRoaXMuY29uZmlnLm1vZGVsLFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCB0aGF0IGdlbmVyYXRlcyBzdHJ1Y3R1cmVkIEpTT04gcmVzcG9uc2VzLicgfSxcbiAgICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHByb21wdCB9XG4gICAgICBdLFxuICAgICAgdGVtcGVyYXR1cmUsXG4gICAgICBtYXhfdG9rZW5zLFxuICAgICAgLy8gUmVtb3ZlIHJlc3BvbnNlX2Zvcm1hdCBmb3Igbm93IGFzIGl0IG1pZ2h0IG5vdCBiZSBzdXBwb3J0ZWQgYnkgTE0gU3R1ZGlvXG4gICAgICAvLyByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogJ2pzb25fb2JqZWN0JyB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ0xMTSBSZXF1ZXN0OicsIHtcbiAgICAgIHVybDogYCR7dGhpcy5jb25maWcuYmFzZV91cmx9L3YxL2NoYXQvY29tcGxldGlvbnNgLFxuICAgICAgYm9keTogcmVxdWVzdEJvZHlcbiAgICB9KVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5jb25maWcuYmFzZV91cmx9L3YxL2NoYXQvY29tcGxldGlvbnNgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAuLi4odGhpcy5jb25maWcuYXBpX2tleSAmJiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuY29uZmlnLmFwaV9rZXl9YCB9KSxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSlcblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZClcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgICAgY29uc29sZS5lcnJvcignTExNIEFQSSBFcnJvciBSZXNwb25zZTonLCBlcnJvclRleHQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTExNIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0gLSAke2Vycm9yVGV4dH1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBjb25zdCBjb250ZW50ID0gZGF0YS5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2U/LmNvbnRlbnRcblxuICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29udGVudCBpbiBMTE0gcmVzcG9uc2UnKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnUmF3IExMTSBSZXNwb25zZTonLCBjb250ZW50KVxuXG4gICAgICAvLyBUcnkgdG8gcGFyc2UgYXMgZGlyZWN0IEpTT04gZmlyc3RcbiAgICAgIGxldCBwYXJzZWRKc29uOiBhbnlcbiAgICAgIGxldCBzdW1tYXJ5ID0gJ0dlbmVyYXRlZCBzcGVjaWZpY2F0aW9uJ1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBGaXJzdCB0cnkgdG8gcGFyc2UgdGhlIGVudGlyZSBjb250ZW50IGFzIEpTT05cbiAgICAgICAgcGFyc2VkSnNvbiA9IEpTT04ucGFyc2UoY29udGVudC50cmltKCkpXG4gICAgICB9IGNhdGNoIChqc29uRXJyb3IpIHtcbiAgICAgICAgLy8gSWYgdGhhdCBmYWlscywgdHJ5IHRvIGV4dHJhY3QgSlNPTiBmcm9tIHRoZSBjb250ZW50XG4gICAgICAgIGNvbnN0IGpzb25NYXRjaCA9IGNvbnRlbnQubWF0Y2goL1xce1tcXHNcXFNdKlxcfS8pXG4gICAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VkSnNvbiA9IEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKVxuICAgICAgICAgICAgLy8gRXh0cmFjdCBzdW1tYXJ5IGZyb20gY29udGVudCBiZWZvcmUgdGhlIEpTT05cbiAgICAgICAgICAgIGNvbnN0IHN1bW1hcnlQYXJ0ID0gY29udGVudC5zdWJzdHJpbmcoMCwganNvbk1hdGNoLmluZGV4KS50cmltKClcbiAgICAgICAgICAgIGlmIChzdW1tYXJ5UGFydCkge1xuICAgICAgICAgICAgICBzdW1tYXJ5ID0gc3VtbWFyeVBhcnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChleHRyYWN0RXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBleHRyYWN0ZWQgSlNPTjonLCBleHRyYWN0RXJyb3IpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBMTE0gcmVzcG9uc2UgYXMgSlNPTjogJHtqc29uRXJyb3J9YClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignTm8gSlNPTiBmb3VuZCBpbiByZXNwb25zZTonLCBjb250ZW50KVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgSlNPTiBmb3VuZCBpbiBMTE0gcmVzcG9uc2UnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdQYXJzZWQgSlNPTjonLCBwYXJzZWRKc29uKVxuXG4gICAgICAvLyBWYWxpZGF0ZSBhZ2FpbnN0IHNjaGVtYVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkID0gc2NoZW1hLnBhcnNlKHBhcnNlZEpzb24pXG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1bW1hcnk6IHN1bW1hcnksXG4gICAgICAgICAganNvbjogdmFsaWRhdGVkLFxuICAgICAgICAgIG1vZGVsX2luZm86IHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLmNvbmZpZy5tb2RlbCxcbiAgICAgICAgICAgIHByb3ZpZGVyOiB0aGlzLmNvbmZpZy5wcm92aWRlcixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHRva2Vuc191c2VkOiBkYXRhLnVzYWdlPy50b3RhbF90b2tlbnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NjaGVtYSB2YWxpZGF0aW9uIGZhaWxlZDonLCB2YWxpZGF0aW9uRXJyb3IpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JhdyByZXNwb25zZSB0aGF0IGZhaWxlZCB2YWxpZGF0aW9uOicsIGNvbnRlbnQpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhcnNlZCBKU09OIHRoYXQgZmFpbGVkIHZhbGlkYXRpb246JywgcGFyc2VkSnNvbilcbiAgICAgICAgdGhyb3cgdmFsaWRhdGlvbkVycm9yXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMTE0gcmVxdWVzdCB0aW1lZCBvdXQnKVxuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cbn1cblxuLy8gRGVmYXVsdCBzZXJ2aWNlIGluc3RhbmNlXG5leHBvcnQgY29uc3QgbGxtU2VydmljZSA9IG5ldyBMTE1TZXJ2aWNlKCkiXSwibmFtZXMiOlsiU3BlY091dHB1dFNjaGVtYSIsIkNsYXJpZnlpbmdRdWVzdGlvbnNTY2hlbWEiLCJERUZBVUxUX0xMTV9DT05GSUciLCJpZCIsInByb3ZpZGVyIiwibmFtZSIsImJhc2VfdXJsIiwiaXNfb3BlbmFpX2NvbXBhdGlibGUiLCJtb2RlbCIsIlNZU1RFTV9QUk9NUFQiLCJDTEFSSUZZSU5HX1FVRVNUSU9OU19QUk9NUFQiLCJMTE1TZXJ2aWNlIiwiY29uZmlnIiwiZ2VuZXJhdGVTcGVjIiwiaW5wdXQiLCJyZXNvbHZlZENvbnRleHQiLCJtb2RlIiwib3B0aW9ucyIsInByb21wdCIsImJ1aWxkU3BlY1Byb21wdCIsInJlc3BvbnNlIiwiY2FsbExMTSIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwibWVzc2FnZSIsImdlbmVyYXRlQ2xhcmlmeWluZ1F1ZXN0aW9ucyIsImJ1aWxkQ2xhcmlmeWluZ1F1ZXN0aW9uc1Byb21wdCIsImpzb24iLCJyZWZpbmVTcGVjIiwib3JpZ2luYWxTcGVjIiwiYW5zd2VycyIsImJ1aWxkUmVmaW5lUHJvbXB0IiwicGFydGlhbCIsImNhbGN1bGF0ZUFtYmlndWl0eVNjb3JlIiwic2NvcmUiLCJkZXNjcmlwdGlvbiIsImxlbmd0aCIsImhhc051bWJlcnMiLCJ0ZXN0IiwidmFndWVXb3JkcyIsInZhZ3VlQ291bnQiLCJmaWx0ZXIiLCJ3b3JkIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInByb25vdW5zIiwicHJvbm91bkNvdW50IiwicHJvbm91biIsInNwbGl0IiwiY29udGV4dCIsInN0YWtlaG9sZGVycyIsImNvbnN0cmFpbnRzIiwiTWF0aCIsIm1pbiIsInRvZGF5IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYXAiLCJhIiwicXVlc3Rpb24iLCJhbnN3ZXIiLCJqb2luIiwic2NoZW1hIiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwidGltZW91dCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJyZXF1ZXN0Qm9keSIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJsb2ciLCJ1cmwiLCJib2R5IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYXBpX2tleSIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJkYXRhIiwiY2hvaWNlcyIsInBhcnNlZEpzb24iLCJzdW1tYXJ5IiwicGFyc2UiLCJ0cmltIiwianNvbkVycm9yIiwianNvbk1hdGNoIiwibWF0Y2giLCJzdW1tYXJ5UGFydCIsInN1YnN0cmluZyIsImluZGV4IiwiZXh0cmFjdEVycm9yIiwidmFsaWRhdGVkIiwibW9kZWxfaW5mbyIsInRpbWVzdGFtcCIsInRva2Vuc191c2VkIiwidXNhZ2UiLCJ0b3RhbF90b2tlbnMiLCJ2YWxpZGF0aW9uRXJyb3IiLCJsbG1TZXJ2aWNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/llm.ts\n");

/***/ }),

/***/ "(ssr)/./src/types/schemas.ts":
/*!******************************!*\
  !*** ./src/types/schemas.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiEndpointSchema: () => (/* binding */ ApiEndpointSchema),\n/* harmony export */   ClarificationSchema: () => (/* binding */ ClarificationSchema),\n/* harmony export */   ClarifyingQuestionsSchema: () => (/* binding */ ClarifyingQuestionsSchema),\n/* harmony export */   ComplexityEnum: () => (/* binding */ ComplexityEnum),\n/* harmony export */   DataModelFieldSchema: () => (/* binding */ DataModelFieldSchema),\n/* harmony export */   DataModelSchema: () => (/* binding */ DataModelSchema),\n/* harmony export */   EstimationSchema: () => (/* binding */ EstimationSchema),\n/* harmony export */   FunctionalRequirementSchema: () => (/* binding */ FunctionalRequirementSchema),\n/* harmony export */   InputContextSchema: () => (/* binding */ InputContextSchema),\n/* harmony export */   ResolvedContextSchema: () => (/* binding */ ResolvedContextSchema),\n/* harmony export */   RiskSchema: () => (/* binding */ RiskSchema),\n/* harmony export */   SpecInputSchema: () => (/* binding */ SpecInputSchema),\n/* harmony export */   SpecOutputSchema: () => (/* binding */ SpecOutputSchema),\n/* harmony export */   StakeholderSchema: () => (/* binding */ StakeholderSchema),\n/* harmony export */   TaskAreaEnum: () => (/* binding */ TaskAreaEnum),\n/* harmony export */   TaskSchema: () => (/* binding */ TaskSchema),\n/* harmony export */   UserStorySchema: () => (/* binding */ UserStorySchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/v3/types.js\");\n\n// Input Schema\nconst InputContextSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    product_area: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    stakeholders: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    constraints: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    non_functional: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    links: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string().url()).default([]),\n    inherit_from_project: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(true),\n    overrides: zod__WEBPACK_IMPORTED_MODULE_0__.record(zod__WEBPACK_IMPORTED_MODULE_0__.any()).default({})\n});\nconst SpecInputSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    project_id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    context: InputContextSchema\n});\n// Resolved Context Schema\nconst StakeholderSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    interests: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string())\n});\nconst ApiEndpointSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    baseUrl: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    endpoints: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string())\n});\nconst DataModelFieldSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    type: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nconst DataModelSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    entity: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    fields: zod__WEBPACK_IMPORTED_MODULE_0__.array(DataModelFieldSchema)\n});\nconst ResolvedContextSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    glossary: zod__WEBPACK_IMPORTED_MODULE_0__.record(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default({}),\n    stakeholders: zod__WEBPACK_IMPORTED_MODULE_0__.array(StakeholderSchema).default([]),\n    constraints: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    non_functional: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    api_catalog: zod__WEBPACK_IMPORTED_MODULE_0__.array(ApiEndpointSchema).default([]),\n    data_models: zod__WEBPACK_IMPORTED_MODULE_0__.array(DataModelSchema).default([]),\n    envs: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([\n        'local',\n        'dev',\n        'test',\n        'prod'\n    ]),\n    labels: zod__WEBPACK_IMPORTED_MODULE_0__.record(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default({})\n});\n// Output Schema Components\nconst UserStorySchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    as_a: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    i_want: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    so_that: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    acceptance_criteria: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string())\n});\nconst ClarificationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    topic: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    question: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    why_it_matters: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nconst FunctionalRequirementSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    statement: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nconst TaskAreaEnum = zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n    'FE',\n    'BE',\n    'Infra',\n    'QA',\n    'Docs'\n]);\nconst TaskSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    area: TaskAreaEnum,\n    details: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    prereqs: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    artifacts: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([])\n});\nconst ComplexityEnum = zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n    'XS',\n    'S',\n    'M',\n    'L',\n    'XL'\n]);\nconst EstimationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    confidence: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0).max(1),\n    complexity: ComplexityEnum,\n    drivers: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()),\n    notes: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nconst RiskSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    risk: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    mitigation: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\n// Full Output Schema\nconst SpecOutputSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    input: SpecInputSchema,\n    resolved_context: ResolvedContextSchema,\n    story: UserStorySchema,\n    needs_clarification: zod__WEBPACK_IMPORTED_MODULE_0__.array(ClarificationSchema).default([]),\n    assumptions: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    dependencies: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    edge_cases: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([]),\n    functional_requirements: zod__WEBPACK_IMPORTED_MODULE_0__.array(FunctionalRequirementSchema).default([]),\n    tasks: zod__WEBPACK_IMPORTED_MODULE_0__.array(TaskSchema).default([]),\n    estimation: EstimationSchema,\n    risks: zod__WEBPACK_IMPORTED_MODULE_0__.array(RiskSchema).default([])\n});\n// Clarifying Questions Schema\nconst ClarifyingQuestionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    questions: zod__WEBPACK_IMPORTED_MODULE_0__.array(ClarificationSchema),\n    estimated_confidence: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0).max(1)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvdHlwZXMvc2NoZW1hcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUI7QUFFdkIsZUFBZTtBQUNSLE1BQU1DLHFCQUFxQkQsdUNBQVEsQ0FBQztJQUN6Q0csY0FBY0gsdUNBQVEsR0FBR0ssUUFBUTtJQUNqQ0MsY0FBY04sc0NBQU8sQ0FBQ0EsdUNBQVEsSUFBSVEsT0FBTyxDQUFDLEVBQUU7SUFDNUNDLGFBQWFULHNDQUFPLENBQUNBLHVDQUFRLElBQUlRLE9BQU8sQ0FBQyxFQUFFO0lBQzNDRSxnQkFBZ0JWLHNDQUFPLENBQUNBLHVDQUFRLElBQUlRLE9BQU8sQ0FBQyxFQUFFO0lBQzlDRyxPQUFPWCxzQ0FBTyxDQUFDQSx1Q0FBUSxHQUFHWSxHQUFHLElBQUlKLE9BQU8sQ0FBQyxFQUFFO0lBQzNDSyxzQkFBc0JiLHdDQUFTLEdBQUdRLE9BQU8sQ0FBQztJQUMxQ08sV0FBV2YsdUNBQVEsQ0FBQ0Esb0NBQUssSUFBSVEsT0FBTyxDQUFDLENBQUM7QUFDeEMsR0FBRTtBQUVLLE1BQU1VLGtCQUFrQmxCLHVDQUFRLENBQUM7SUFDdENtQixZQUFZbkIsdUNBQVE7SUFDcEJvQixPQUFPcEIsdUNBQVE7SUFDZnFCLGFBQWFyQix1Q0FBUTtJQUNyQnNCLFNBQVNyQjtBQUNYLEdBQUU7QUFFRiwwQkFBMEI7QUFDbkIsTUFBTXNCLG9CQUFvQnZCLHVDQUFRLENBQUM7SUFDeEN3QixNQUFNeEIsdUNBQVE7SUFDZHlCLE1BQU16Qix1Q0FBUTtJQUNkMEIsV0FBVzFCLHNDQUFPLENBQUNBLHVDQUFRO0FBQzdCLEdBQUU7QUFFSyxNQUFNMkIsb0JBQW9CM0IsdUNBQVEsQ0FBQztJQUN4Q3dCLE1BQU14Qix1Q0FBUTtJQUNkNEIsU0FBUzVCLHVDQUFRO0lBQ2pCNkIsV0FBVzdCLHNDQUFPLENBQUNBLHVDQUFRO0FBQzdCLEdBQUU7QUFFSyxNQUFNOEIsdUJBQXVCOUIsdUNBQVEsQ0FBQztJQUMzQ3dCLE1BQU14Qix1Q0FBUTtJQUNkK0IsTUFBTS9CLHVDQUFRO0FBQ2hCLEdBQUU7QUFFSyxNQUFNZ0Msa0JBQWtCaEMsdUNBQVEsQ0FBQztJQUN0Q2lDLFFBQVFqQyx1Q0FBUTtJQUNoQmtDLFFBQVFsQyxzQ0FBTyxDQUFDOEI7QUFDbEIsR0FBRTtBQUVLLE1BQU1LLHdCQUF3Qm5DLHVDQUFRLENBQUM7SUFDNUNvQyxVQUFVcEMsdUNBQVEsQ0FBQ0EsdUNBQVEsSUFBSVEsT0FBTyxDQUFDLENBQUM7SUFDeENGLGNBQWNOLHNDQUFPLENBQUN1QixtQkFBbUJmLE9BQU8sQ0FBQyxFQUFFO0lBQ25EQyxhQUFhVCxzQ0FBTyxDQUFDQSx1Q0FBUSxJQUFJUSxPQUFPLENBQUMsRUFBRTtJQUMzQ0UsZ0JBQWdCVixzQ0FBTyxDQUFDQSx1Q0FBUSxJQUFJUSxPQUFPLENBQUMsRUFBRTtJQUM5QzZCLGFBQWFyQyxzQ0FBTyxDQUFDMkIsbUJBQW1CbkIsT0FBTyxDQUFDLEVBQUU7SUFDbEQ4QixhQUFhdEMsc0NBQU8sQ0FBQ2dDLGlCQUFpQnhCLE9BQU8sQ0FBQyxFQUFFO0lBQ2hEK0IsTUFBTXZDLHNDQUFPLENBQUNBLHVDQUFRLElBQUlRLE9BQU8sQ0FBQztRQUFDO1FBQVM7UUFBTztRQUFRO0tBQU87SUFDbEVnQyxRQUFReEMsdUNBQVEsQ0FBQ0EsdUNBQVEsSUFBSVEsT0FBTyxDQUFDLENBQUM7QUFDeEMsR0FBRTtBQUVGLDJCQUEyQjtBQUNwQixNQUFNaUMsa0JBQWtCekMsdUNBQVEsQ0FBQztJQUN0QzBDLE1BQU0xQyx1Q0FBUTtJQUNkMkMsUUFBUTNDLHVDQUFRO0lBQ2hCNEMsU0FBUzVDLHVDQUFRO0lBQ2pCNkMscUJBQXFCN0Msc0NBQU8sQ0FBQ0EsdUNBQVE7QUFDdkMsR0FBRTtBQUVLLE1BQU04QyxzQkFBc0I5Qyx1Q0FBUSxDQUFDO0lBQzFDK0MsT0FBTy9DLHVDQUFRO0lBQ2ZnRCxVQUFVaEQsdUNBQVE7SUFDbEJpRCxnQkFBZ0JqRCx1Q0FBUTtBQUMxQixHQUFFO0FBRUssTUFBTWtELDhCQUE4QmxELHVDQUFRLENBQUM7SUFDbERtRCxJQUFJbkQsdUNBQVE7SUFDWm9ELFdBQVdwRCx1Q0FBUTtBQUNyQixHQUFFO0FBRUssTUFBTXFELGVBQWVyRCx3Q0FBTSxDQUFDO0lBQUM7SUFBTTtJQUFNO0lBQVM7SUFBTTtDQUFPLEVBQUM7QUFFaEUsTUFBTXVELGFBQWF2RCx1Q0FBUSxDQUFDO0lBQ2pDbUQsSUFBSW5ELHVDQUFRO0lBQ1pvQixPQUFPcEIsdUNBQVE7SUFDZndELE1BQU1IO0lBQ05JLFNBQVN6RCx1Q0FBUTtJQUNqQjBELFNBQVMxRCxzQ0FBTyxDQUFDQSx1Q0FBUSxJQUFJUSxPQUFPLENBQUMsRUFBRTtJQUN2Q21ELFdBQVczRCxzQ0FBTyxDQUFDQSx1Q0FBUSxJQUFJUSxPQUFPLENBQUMsRUFBRTtBQUMzQyxHQUFFO0FBRUssTUFBTW9ELGlCQUFpQjVELHdDQUFNLENBQUM7SUFBQztJQUFNO0lBQUs7SUFBSztJQUFLO0NBQUssRUFBQztBQUUxRCxNQUFNNkQsbUJBQW1CN0QsdUNBQVEsQ0FBQztJQUN2QzhELFlBQVk5RCx1Q0FBUSxHQUFHZ0UsR0FBRyxDQUFDLEdBQUdDLEdBQUcsQ0FBQztJQUNsQ0MsWUFBWU47SUFDWk8sU0FBU25FLHNDQUFPLENBQUNBLHVDQUFRO0lBQ3pCb0UsT0FBT3BFLHVDQUFRO0FBQ2pCLEdBQUU7QUFFSyxNQUFNcUUsYUFBYXJFLHVDQUFRLENBQUM7SUFDakNzRSxNQUFNdEUsdUNBQVE7SUFDZHVFLFlBQVl2RSx1Q0FBUTtBQUN0QixHQUFFO0FBRUYscUJBQXFCO0FBQ2QsTUFBTXdFLG1CQUFtQnhFLHVDQUFRLENBQUM7SUFDdkN5RSxPQUFPdkQ7SUFDUHdELGtCQUFrQnZDO0lBQ2xCd0MsT0FBT2xDO0lBQ1BtQyxxQkFBcUI1RSxzQ0FBTyxDQUFDOEMscUJBQXFCdEMsT0FBTyxDQUFDLEVBQUU7SUFDNURxRSxhQUFhN0Usc0NBQU8sQ0FBQ0EsdUNBQVEsSUFBSVEsT0FBTyxDQUFDLEVBQUU7SUFDM0NzRSxjQUFjOUUsc0NBQU8sQ0FBQ0EsdUNBQVEsSUFBSVEsT0FBTyxDQUFDLEVBQUU7SUFDNUN1RSxZQUFZL0Usc0NBQU8sQ0FBQ0EsdUNBQVEsSUFBSVEsT0FBTyxDQUFDLEVBQUU7SUFDMUN3RSx5QkFBeUJoRixzQ0FBTyxDQUFDa0QsNkJBQTZCMUMsT0FBTyxDQUFDLEVBQUU7SUFDeEV5RSxPQUFPakYsc0NBQU8sQ0FBQ3VELFlBQVkvQyxPQUFPLENBQUMsRUFBRTtJQUNyQzBFLFlBQVlyQjtJQUNac0IsT0FBT25GLHNDQUFPLENBQUNxRSxZQUFZN0QsT0FBTyxDQUFDLEVBQUU7QUFDdkMsR0FBRTtBQUVGLDhCQUE4QjtBQUN2QixNQUFNNEUsNEJBQTRCcEYsdUNBQVEsQ0FBQztJQUNoRHFGLFdBQVdyRixzQ0FBTyxDQUFDOEM7SUFDbkJ3QyxzQkFBc0J0Rix1Q0FBUSxHQUFHZ0UsR0FBRyxDQUFDLEdBQUdDLEdBQUcsQ0FBQztBQUM5QyxHQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamFzb25odWxiZXJ0L1Byb2plY3RzL3NwZWNnZW4vc3JjL3R5cGVzL3NjaGVtYXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gSW5wdXQgU2NoZW1hXG5leHBvcnQgY29uc3QgSW5wdXRDb250ZXh0U2NoZW1hID0gei5vYmplY3Qoe1xuICBwcm9kdWN0X2FyZWE6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgc3Rha2Vob2xkZXJzOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuICBjb25zdHJhaW50czogei5hcnJheSh6LnN0cmluZygpKS5kZWZhdWx0KFtdKSxcbiAgbm9uX2Z1bmN0aW9uYWw6IHouYXJyYXkoei5zdHJpbmcoKSkuZGVmYXVsdChbXSksXG4gIGxpbmtzOiB6LmFycmF5KHouc3RyaW5nKCkudXJsKCkpLmRlZmF1bHQoW10pLFxuICBpbmhlcml0X2Zyb21fcHJvamVjdDogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgb3ZlcnJpZGVzOiB6LnJlY29yZCh6LmFueSgpKS5kZWZhdWx0KHt9KSxcbn0pXG5cbmV4cG9ydCBjb25zdCBTcGVjSW5wdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHByb2plY3RfaWQ6IHouc3RyaW5nKCksXG4gIHRpdGxlOiB6LnN0cmluZygpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKSxcbiAgY29udGV4dDogSW5wdXRDb250ZXh0U2NoZW1hLFxufSlcblxuLy8gUmVzb2x2ZWQgQ29udGV4dCBTY2hlbWFcbmV4cG9ydCBjb25zdCBTdGFrZWhvbGRlclNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKSxcbiAgcm9sZTogei5zdHJpbmcoKSxcbiAgaW50ZXJlc3RzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxufSlcblxuZXhwb3J0IGNvbnN0IEFwaUVuZHBvaW50U2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpLFxuICBiYXNlVXJsOiB6LnN0cmluZygpLFxuICBlbmRwb2ludHM6IHouYXJyYXkoei5zdHJpbmcoKSksXG59KVxuXG5leHBvcnQgY29uc3QgRGF0YU1vZGVsRmllbGRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIHR5cGU6IHouc3RyaW5nKCksXG59KVxuXG5leHBvcnQgY29uc3QgRGF0YU1vZGVsU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbnRpdHk6IHouc3RyaW5nKCksXG4gIGZpZWxkczogei5hcnJheShEYXRhTW9kZWxGaWVsZFNjaGVtYSksXG59KVxuXG5leHBvcnQgY29uc3QgUmVzb2x2ZWRDb250ZXh0U2NoZW1hID0gei5vYmplY3Qoe1xuICBnbG9zc2FyeTogei5yZWNvcmQoei5zdHJpbmcoKSkuZGVmYXVsdCh7fSksXG4gIHN0YWtlaG9sZGVyczogei5hcnJheShTdGFrZWhvbGRlclNjaGVtYSkuZGVmYXVsdChbXSksXG4gIGNvbnN0cmFpbnRzOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuICBub25fZnVuY3Rpb25hbDogei5hcnJheSh6LnN0cmluZygpKS5kZWZhdWx0KFtdKSxcbiAgYXBpX2NhdGFsb2c6IHouYXJyYXkoQXBpRW5kcG9pbnRTY2hlbWEpLmRlZmF1bHQoW10pLFxuICBkYXRhX21vZGVsczogei5hcnJheShEYXRhTW9kZWxTY2hlbWEpLmRlZmF1bHQoW10pLFxuICBlbnZzOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlZmF1bHQoWydsb2NhbCcsICdkZXYnLCAndGVzdCcsICdwcm9kJ10pLFxuICBsYWJlbHM6IHoucmVjb3JkKHouc3RyaW5nKCkpLmRlZmF1bHQoe30pLFxufSlcblxuLy8gT3V0cHV0IFNjaGVtYSBDb21wb25lbnRzXG5leHBvcnQgY29uc3QgVXNlclN0b3J5U2NoZW1hID0gei5vYmplY3Qoe1xuICBhc19hOiB6LnN0cmluZygpLFxuICBpX3dhbnQ6IHouc3RyaW5nKCksXG4gIHNvX3RoYXQ6IHouc3RyaW5nKCksXG4gIGFjY2VwdGFuY2VfY3JpdGVyaWE6IHouYXJyYXkoei5zdHJpbmcoKSksXG59KVxuXG5leHBvcnQgY29uc3QgQ2xhcmlmaWNhdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdG9waWM6IHouc3RyaW5nKCksXG4gIHF1ZXN0aW9uOiB6LnN0cmluZygpLFxuICB3aHlfaXRfbWF0dGVyczogei5zdHJpbmcoKSxcbn0pXG5cbmV4cG9ydCBjb25zdCBGdW5jdGlvbmFsUmVxdWlyZW1lbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlkOiB6LnN0cmluZygpLFxuICBzdGF0ZW1lbnQ6IHouc3RyaW5nKCksXG59KVxuXG5leHBvcnQgY29uc3QgVGFza0FyZWFFbnVtID0gei5lbnVtKFsnRkUnLCAnQkUnLCAnSW5mcmEnLCAnUUEnLCAnRG9jcyddKVxuXG5leHBvcnQgY29uc3QgVGFza1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgaWQ6IHouc3RyaW5nKCksXG4gIHRpdGxlOiB6LnN0cmluZygpLFxuICBhcmVhOiBUYXNrQXJlYUVudW0sXG4gIGRldGFpbHM6IHouc3RyaW5nKCksXG4gIHByZXJlcXM6IHouYXJyYXkoei5zdHJpbmcoKSkuZGVmYXVsdChbXSksXG4gIGFydGlmYWN0czogei5hcnJheSh6LnN0cmluZygpKS5kZWZhdWx0KFtdKSxcbn0pXG5cbmV4cG9ydCBjb25zdCBDb21wbGV4aXR5RW51bSA9IHouZW51bShbJ1hTJywgJ1MnLCAnTScsICdMJywgJ1hMJ10pXG5cbmV4cG9ydCBjb25zdCBFc3RpbWF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBjb25maWRlbmNlOiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMSksXG4gIGNvbXBsZXhpdHk6IENvbXBsZXhpdHlFbnVtLFxuICBkcml2ZXJzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICBub3Rlczogei5zdHJpbmcoKSxcbn0pXG5cbmV4cG9ydCBjb25zdCBSaXNrU2NoZW1hID0gei5vYmplY3Qoe1xuICByaXNrOiB6LnN0cmluZygpLFxuICBtaXRpZ2F0aW9uOiB6LnN0cmluZygpLFxufSlcblxuLy8gRnVsbCBPdXRwdXQgU2NoZW1hXG5leHBvcnQgY29uc3QgU3BlY091dHB1dFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgaW5wdXQ6IFNwZWNJbnB1dFNjaGVtYSxcbiAgcmVzb2x2ZWRfY29udGV4dDogUmVzb2x2ZWRDb250ZXh0U2NoZW1hLFxuICBzdG9yeTogVXNlclN0b3J5U2NoZW1hLFxuICBuZWVkc19jbGFyaWZpY2F0aW9uOiB6LmFycmF5KENsYXJpZmljYXRpb25TY2hlbWEpLmRlZmF1bHQoW10pLFxuICBhc3N1bXB0aW9uczogei5hcnJheSh6LnN0cmluZygpKS5kZWZhdWx0KFtdKSxcbiAgZGVwZW5kZW5jaWVzOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuICBlZGdlX2Nhc2VzOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuICBmdW5jdGlvbmFsX3JlcXVpcmVtZW50czogei5hcnJheShGdW5jdGlvbmFsUmVxdWlyZW1lbnRTY2hlbWEpLmRlZmF1bHQoW10pLFxuICB0YXNrczogei5hcnJheShUYXNrU2NoZW1hKS5kZWZhdWx0KFtdKSxcbiAgZXN0aW1hdGlvbjogRXN0aW1hdGlvblNjaGVtYSxcbiAgcmlza3M6IHouYXJyYXkoUmlza1NjaGVtYSkuZGVmYXVsdChbXSksXG59KVxuXG4vLyBDbGFyaWZ5aW5nIFF1ZXN0aW9ucyBTY2hlbWFcbmV4cG9ydCBjb25zdCBDbGFyaWZ5aW5nUXVlc3Rpb25zU2NoZW1hID0gei5vYmplY3Qoe1xuICBxdWVzdGlvbnM6IHouYXJyYXkoQ2xhcmlmaWNhdGlvblNjaGVtYSksXG4gIGVzdGltYXRlZF9jb25maWRlbmNlOiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMSksXG59KVxuXG4vLyBFeHBvcnQgdHlwZXNcbmV4cG9ydCB0eXBlIElucHV0Q29udGV4dCA9IHouaW5mZXI8dHlwZW9mIElucHV0Q29udGV4dFNjaGVtYT5cbmV4cG9ydCB0eXBlIFNwZWNJbnB1dCA9IHouaW5mZXI8dHlwZW9mIFNwZWNJbnB1dFNjaGVtYT5cbmV4cG9ydCB0eXBlIFN0YWtlaG9sZGVyID0gei5pbmZlcjx0eXBlb2YgU3Rha2Vob2xkZXJTY2hlbWE+XG5leHBvcnQgdHlwZSBBcGlFbmRwb2ludCA9IHouaW5mZXI8dHlwZW9mIEFwaUVuZHBvaW50U2NoZW1hPlxuZXhwb3J0IHR5cGUgRGF0YU1vZGVsRmllbGQgPSB6LmluZmVyPHR5cGVvZiBEYXRhTW9kZWxGaWVsZFNjaGVtYT5cbmV4cG9ydCB0eXBlIERhdGFNb2RlbCA9IHouaW5mZXI8dHlwZW9mIERhdGFNb2RlbFNjaGVtYT5cbmV4cG9ydCB0eXBlIFJlc29sdmVkQ29udGV4dCA9IHouaW5mZXI8dHlwZW9mIFJlc29sdmVkQ29udGV4dFNjaGVtYT5cbmV4cG9ydCB0eXBlIFVzZXJTdG9yeSA9IHouaW5mZXI8dHlwZW9mIFVzZXJTdG9yeVNjaGVtYT5cbmV4cG9ydCB0eXBlIENsYXJpZmljYXRpb24gPSB6LmluZmVyPHR5cGVvZiBDbGFyaWZpY2F0aW9uU2NoZW1hPlxuZXhwb3J0IHR5cGUgRnVuY3Rpb25hbFJlcXVpcmVtZW50ID0gei5pbmZlcjx0eXBlb2YgRnVuY3Rpb25hbFJlcXVpcmVtZW50U2NoZW1hPlxuZXhwb3J0IHR5cGUgVGFza0FyZWEgPSB6LmluZmVyPHR5cGVvZiBUYXNrQXJlYUVudW0+XG5leHBvcnQgdHlwZSBUYXNrID0gei5pbmZlcjx0eXBlb2YgVGFza1NjaGVtYT5cbmV4cG9ydCB0eXBlIENvbXBsZXhpdHkgPSB6LmluZmVyPHR5cGVvZiBDb21wbGV4aXR5RW51bT5cbmV4cG9ydCB0eXBlIEVzdGltYXRpb24gPSB6LmluZmVyPHR5cGVvZiBFc3RpbWF0aW9uU2NoZW1hPlxuZXhwb3J0IHR5cGUgUmlzayA9IHouaW5mZXI8dHlwZW9mIFJpc2tTY2hlbWE+XG5leHBvcnQgdHlwZSBTcGVjT3V0cHV0ID0gei5pbmZlcjx0eXBlb2YgU3BlY091dHB1dFNjaGVtYT5cbmV4cG9ydCB0eXBlIENsYXJpZnlpbmdRdWVzdGlvbnMgPSB6LmluZmVyPHR5cGVvZiBDbGFyaWZ5aW5nUXVlc3Rpb25zU2NoZW1hPiJdLCJuYW1lcyI6WyJ6IiwiSW5wdXRDb250ZXh0U2NoZW1hIiwib2JqZWN0IiwicHJvZHVjdF9hcmVhIiwic3RyaW5nIiwib3B0aW9uYWwiLCJzdGFrZWhvbGRlcnMiLCJhcnJheSIsImRlZmF1bHQiLCJjb25zdHJhaW50cyIsIm5vbl9mdW5jdGlvbmFsIiwibGlua3MiLCJ1cmwiLCJpbmhlcml0X2Zyb21fcHJvamVjdCIsImJvb2xlYW4iLCJvdmVycmlkZXMiLCJyZWNvcmQiLCJhbnkiLCJTcGVjSW5wdXRTY2hlbWEiLCJwcm9qZWN0X2lkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNvbnRleHQiLCJTdGFrZWhvbGRlclNjaGVtYSIsIm5hbWUiLCJyb2xlIiwiaW50ZXJlc3RzIiwiQXBpRW5kcG9pbnRTY2hlbWEiLCJiYXNlVXJsIiwiZW5kcG9pbnRzIiwiRGF0YU1vZGVsRmllbGRTY2hlbWEiLCJ0eXBlIiwiRGF0YU1vZGVsU2NoZW1hIiwiZW50aXR5IiwiZmllbGRzIiwiUmVzb2x2ZWRDb250ZXh0U2NoZW1hIiwiZ2xvc3NhcnkiLCJhcGlfY2F0YWxvZyIsImRhdGFfbW9kZWxzIiwiZW52cyIsImxhYmVscyIsIlVzZXJTdG9yeVNjaGVtYSIsImFzX2EiLCJpX3dhbnQiLCJzb190aGF0IiwiYWNjZXB0YW5jZV9jcml0ZXJpYSIsIkNsYXJpZmljYXRpb25TY2hlbWEiLCJ0b3BpYyIsInF1ZXN0aW9uIiwid2h5X2l0X21hdHRlcnMiLCJGdW5jdGlvbmFsUmVxdWlyZW1lbnRTY2hlbWEiLCJpZCIsInN0YXRlbWVudCIsIlRhc2tBcmVhRW51bSIsImVudW0iLCJUYXNrU2NoZW1hIiwiYXJlYSIsImRldGFpbHMiLCJwcmVyZXFzIiwiYXJ0aWZhY3RzIiwiQ29tcGxleGl0eUVudW0iLCJFc3RpbWF0aW9uU2NoZW1hIiwiY29uZmlkZW5jZSIsIm51bWJlciIsIm1pbiIsIm1heCIsImNvbXBsZXhpdHkiLCJkcml2ZXJzIiwibm90ZXMiLCJSaXNrU2NoZW1hIiwicmlzayIsIm1pdGlnYXRpb24iLCJTcGVjT3V0cHV0U2NoZW1hIiwiaW5wdXQiLCJyZXNvbHZlZF9jb250ZXh0Iiwic3RvcnkiLCJuZWVkc19jbGFyaWZpY2F0aW9uIiwiYXNzdW1wdGlvbnMiLCJkZXBlbmRlbmNpZXMiLCJlZGdlX2Nhc2VzIiwiZnVuY3Rpb25hbF9yZXF1aXJlbWVudHMiLCJ0YXNrcyIsImVzdGltYXRpb24iLCJyaXNrcyIsIkNsYXJpZnlpbmdRdWVzdGlvbnNTY2hlbWEiLCJxdWVzdGlvbnMiLCJlc3RpbWF0ZWRfY29uZmlkZW5jZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/types/schemas.ts\n");

/***/ })

};
;